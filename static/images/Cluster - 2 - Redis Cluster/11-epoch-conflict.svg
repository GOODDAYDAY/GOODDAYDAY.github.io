<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="686px" preserveAspectRatio="none" style="width:562px;height:686px;background:#FEFEFE;" version="1.1" viewBox="0 0 562 686" width="562px" zoomAndPan="magnify"><title>ConfigEpoch - Resolving Slot Ownership Conflicts</title><defs/><g><rect fill="#FEFEFE" height="686" style="stroke:none;stroke-width:1.0;" width="562" x="0" y="0"/><text fill="#000000" font-family="Helvetica" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="529.2354" x="15" y="40.2119">ConfigEpoch - Resolving Slot Ownership Conflicts</text><line style="stroke:#000000;stroke-width:1.0;" x1="109.2266" x2="109.2266" y1="109.2861" y2="629.4482"/><line style="stroke:#000000;stroke-width:1.0;" x1="315.8408" x2="315.8408" y1="109.2861" y2="629.4482"/><line style="stroke:#000000;stroke-width:1.0;" x1="450.2129" x2="450.2129" y1="109.2861" y2="629.4482"/><rect fill="#FFCDD2" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="114.7959" x="52.2266" y="56.0459"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="86.2764" y="79.0898">Node A</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="100.7959" x="59.2266" y="98.21">configEpoch = 5</text><rect fill="#FFCDD2" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="114.7959" x="52.2266" y="628.4482"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="86.2764" y="651.4922">Node A</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="100.7959" x="59.2266" y="670.6123">configEpoch = 5</text><rect fill="#E0E0E0" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="93.3721" x="269.8408" y="75.166"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="79.3721" x="276.8408" y="98.21">Other Nodes</text><rect fill="#E0E0E0" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="93.3721" x="269.8408" y="628.4482"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="79.3721" x="276.8408" y="651.4922">Other Nodes</text><rect fill="#C8E6C9" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="114.7959" x="393.2129" y="56.0459"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="427.2627" y="79.0898">Node B</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="100.7959" x="400.2129" y="98.21">configEpoch = 7</text><rect fill="#C8E6C9" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="114.7959" x="393.2129" y="628.4482"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="427.2627" y="651.4922">Node B</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="100.7959" x="400.2129" y="670.6123">configEpoch = 7</text><polygon fill="#000000" points="304.5269,159.5264,314.5269,163.5264,304.5269,167.5264,308.5269,163.5264" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="109.6245" x2="310.5269" y1="163.5264" y2="163.5264"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="105.834" x="160.1587" y="139.3301">I own slots 0-100</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="59.1445" x="183.5034" y="158.4502">(epoch 5)</text><polygon fill="#000000" points="327.5269,211.7666,317.5269,215.7666,327.5269,219.7666,323.5269,215.7666" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="321.5269" x2="449.6108" y1="215.7666" y2="215.7666"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="105.834" x="330.6519" y="191.5703">I own slots 0-100</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="59.1445" x="353.9966" y="210.6904">(epoch 7)</text><path d="M217.2266,228.7666 L217.2266,276.7666 L413.2266,276.7666 L413.2266,238.7666 L403.2266,228.7666 L217.2266,228.7666 " fill="#FFFDE7" style="stroke:#000000;stroke-width:1.0;"/><path d="M403.2266,228.7666 L403.2266,238.7666 L413.2266,238.7666 L403.2266,228.7666 " fill="#FFFDE7" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="56.7656" x="223.2266" y="249.8105">Conflict!</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="175.8408" x="223.2266" y="268.9307">Two nodes claim same slots</text><line style="stroke:#000000;stroke-width:1.0;" x1="316.5269" x2="358.5269" y1="326.2471" y2="326.2471"/><line style="stroke:#000000;stroke-width:1.0;" x1="358.5269" x2="358.5269" y1="326.2471" y2="339.2471"/><line style="stroke:#000000;stroke-width:1.0;" x1="317.5269" x2="358.5269" y1="339.2471" y2="339.2471"/><polygon fill="#000000" points="327.5269,335.2471,317.5269,339.2471,327.5269,343.2471,323.5269,339.2471" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="110.5029" x="323.5269" y="302.0508">Compare epochs:</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="31.5273" x="363.0146" y="321.1709">7 &gt; 5</text><path d="M219.2266,352.2471 L219.2266,400.2471 L412.2266,400.2471 L412.2266,362.2471 L402.2266,352.2471 L219.2266,352.2471 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><path d="M402.2266,352.2471 L402.2266,362.2471 L412.2266,362.2471 L402.2266,352.2471 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76.9932" x="225.2266" y="373.291">Resolution:</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="172.7578" x="225.2266" y="392.4111">Node B wins (higher epoch)</text><polygon fill="#000000" points="120.6245,445.7275,110.6245,449.7275,120.6245,453.7275,116.6245,449.7275" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="114.6245" x2="315.5269" y1="449.7275" y2="449.7275"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="140.082" x="143.0347" y="425.5313">Update your slot table:</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="182.9023" x="121.6245" y="444.6514">Slots 0-100 belong to Node B</text><line style="stroke:#000000;stroke-width:1.0;" x1="109.6245" x2="151.6245" y1="501.9678" y2="501.9678"/><line style="stroke:#000000;stroke-width:1.0;" x1="151.6245" x2="151.6245" y1="501.9678" y2="514.9678"/><line style="stroke:#000000;stroke-width:1.0;" x1="110.6245" x2="151.6245" y1="514.9678" y2="514.9678"/><polygon fill="#000000" points="120.6245,510.9678,110.6245,514.9678,120.6245,518.9678,116.6245,514.9678" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="84.8066" x="136.4727" y="477.7715">Give up claim</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="124.5029" x="116.6245" y="496.8916">Remove slots 0-100</text><path d="M44.2266,527.9678 L44.2266,613.9678 L514.2266,613.9678 L514.2266,537.9678 L504.2266,527.9678 L44.2266,527.9678 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M504.2266,527.9678 L504.2266,537.9678 L514.2266,537.9678 L504.2266,527.9678 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="165.6963" x="168.5249" y="549.0117">Epoch increments when:</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="213.1855" x="168.5249" y="568.1318">- Slave wins election (new master)</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="161.8408" x="168.5249" y="587.252">- Slot migration completes</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="103.4893" x="168.5249" y="606.3721">- Manual failover</text><!--SRC=[ZLFDRjim3BxhATZaaW0BbWxBqWPTWDInjntQ0irsoqMM6LkeJ7cM76Dx-j5oqdf33eDECidlZ_ALBx14g8pK9DoBfahMieHKgfUyjWrbaJMsXd4ITsVGaU51DiOdbloZP8JHLpH7z5h9qUMkdVwDSFrnK7Juiq5I-83EoHmtHkS42ibZBOJNtY14bWuwZokh2fZ1CpfhZffos1dhuQabh5sXgz1cjF9E28Pc4RgIv67qQ3E4pPxK0EOpB4OW7H3NDcmiYRRR3t-FFN4eDNJ3BhJQxkvW7C-xSu7Y_b-AvIl5FOoZc_XJT2j4ppXRd_5My0riI-3OZ8Fvx7e-tzC40yHYAlhf_sjVJZjuZs2FhFoiDqcIRRmK07Vf-XpHrTtxTCsVlhSsw7EWUFUyZ6w90LeWPT212N426cg8RCd-4GAlM-rf2MjON6AFRv95VDkpXyqrNbjQdVZxtA3Lv61IwBnBF61EB_BtsQtWHvL99lfbcpge1IzJWonZzvOAf6WiFn9lJoo3wCyuN_GHeQbwytjwnfAr3wCTEWf3x_frzdxwFMjIDVyzn3DjWQ_MPlmy9QC5RsXGTRvXGjX2AHs_xkcfYUMNEgzbg2iErg175ueFaXffu22rwIIyPV87]--></g></svg>