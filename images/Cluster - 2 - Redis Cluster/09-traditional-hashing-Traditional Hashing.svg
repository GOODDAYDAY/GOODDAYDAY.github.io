<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="305px" preserveAspectRatio="none" style="width:1025px;height:305px;background:#FEFEFE;" version="1.1" viewBox="0 0 1025 305" width="1025px" zoomAndPan="magnify"><title>Traditional Hashing: hash(key) % N</title><defs/><g><rect fill="#FEFEFE" height="305" style="stroke:none;stroke-width:1.0;" width="1025" x="0" y="0"/><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="369.166" x="323.417" y="35.6357">Traditional Hashing: hash(key) % N</text><!--cluster before--><g id="cluster_before"><path d="M720.5,65.2979 L813.5215,65.2979 A3.75,3.75 0 0 1 816.0215,67.7979 L823.0215,85.0967 L1015.5,85.0967 A2.5,2.5 0 0 1 1018,87.5967 L1018,276.2979 A2.5,2.5 0 0 1 1015.5,278.7979 L720.5,278.7979 A2.5,2.5 0 0 1 718,276.2979 L718,67.7979 A2.5,2.5 0 0 1 720.5,65.2979 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="718" x2="823.0215" y1="85.0967" y2="85.0967"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="92.0215" x="722" y="78.5537">Before: 3 Nodes</text></g><!--cluster after--><g id="cluster_after"><path d="M13.5,57.2979 L150.1738,57.2979 A3.75,3.75 0 0 1 152.6738,59.7979 L159.6738,77.0967 L423.5,77.0967 A2.5,2.5 0 0 1 426,79.5967 L426,284.2979 A2.5,2.5 0 0 1 423.5,286.7979 L13.5,286.7979 A2.5,2.5 0 0 1 11,284.2979 L11,59.7979 A2.5,2.5 0 0 1 13.5,57.2979 " fill="#FFEBEE" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="11" x2="159.6738" y1="77.0967" y2="77.0967"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="135.6738" x="15" y="70.5537">After: Add 1 Node (N=4)</text></g><!--entity hash1--><g id="elem_hash1"><rect fill="#FFF9C4" height="19.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="96.6992" x="811.5" y="97.2979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="66.6914" x="821.5" y="111.5537">hash(key) %</text><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="6.6738" x="891.5254" y="111.5537">3</text></g><!--entity n0--><g id="elem_n0"><rect fill="#C8E6C9" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="58.6953" x="736.5" y="228.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="38.6953" x="746.5" y="250.0537">Node 0</text></g><!--entity n1--><g id="elem_n1"><rect fill="#C8E6C9" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="58.6953" x="830.5" y="228.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="38.6953" x="840.5" y="250.0537">Node 1</text></g><!--entity n2--><g id="elem_n2"><rect fill="#C8E6C9" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="58.6953" x="924.5" y="228.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="38.6953" x="934.5" y="250.0537">Node 2</text></g><!--entity hash2--><g id="elem_hash2"><rect fill="#FFF9C4" height="19.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="96.6992" x="157.5" y="97.2979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="66.6914" x="167.5" y="111.5537">hash(key) %</text><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="6.6738" x="237.5254" y="111.5537">4</text></g><!--entity n0b--><g id="elem_n0b"><rect fill="#FFCDD2" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="58.6953" x="36.5" y="228.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="38.6953" x="46.5" y="250.0537">Node 0</text></g><!--entity n1b--><g id="elem_n1b"><rect fill="#FFCDD2" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="58.6953" x="130.5" y="228.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="38.6953" x="140.5" y="250.0537">Node 1</text></g><!--entity n2b--><g id="elem_n2b"><rect fill="#FFCDD2" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="58.6953" x="224.5" y="228.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="38.6953" x="234.5" y="250.0537">Node 2</text></g><!--entity n3b--><g id="elem_n3b"><rect fill="#BBDEFB" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="58.6953" x="318.5" y="228.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="38.6953" x="328.5" y="250.0537">Node 3</text></g><g id="elem_GMN20"><path d="M450.5,192.2979 L450.5,298.8896 L701.6328,298.8896 L701.6328,202.2979 L691.6328,192.2979 L450.5,192.2979 " fill="#FFEBEE" style="stroke:#000000;stroke-width:1.0;"/><path d="M691.6328,192.2979 L691.6328,202.2979 L701.6328,202.2979 L691.6328,192.2979 " fill="#FFEBEE" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="216.7324" x="456.5" y="208.5537">Disaster: Almost ALL keys remapped!</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="3.334" x="456.5" y="222.3525">&#160;</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="189.6328" x="456.5" y="236.1514">Example: hash("user:1001") = 1000</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="103.0723" x="456.5" y="249.9502">Before: 1000 % 3 =</text><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="6.6738" x="562.9063" y="249.9502">1</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="53.0332" x="572.9141" y="249.9502">-&gt; Node 1</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="96.3926" x="456.5" y="263.749">After:  1000 % 4 =</text><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="6.6738" x="556.2266" y="263.749">0</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="115.0313" x="566.2344" y="263.749">-&gt; Node 0  (MOVED!)</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="3.334" x="456.5" y="277.5479">&#160;</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="230.1328" x="456.5" y="291.3467">~75% of keys need migration when N: 3-&gt;4</text></g><!--link hash1 to n0--><g id="link_hash1_n0"><path d="M837.63,117.3079 C824.11,123.8079 807.52,133.8079 797,147.2979 C778,171.6679 771.3268,202.0137 768.4768,222.7537 " fill="none" id="hash1-to-n0" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="767.66,228.6979,772.848,220.3262,768.3407,223.7444,764.9225,219.2371,767.66,228.6979" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="49.6934" x="798" y="159.5537">result = 0</text></g><!--link hash1 to n1--><g id="link_hash1_n1"><path d="M859.08,117.5879 C858.35,125.4779 857.39,137.1179 857,147.2979 C855.9,175.8979 857.1701,203.2405 858.4301,222.5905 " fill="none" id="hash1-to-n1" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="858.82,228.5779,862.2267,219.337,858.4951,223.5884,854.2436,219.8568,858.82,228.5779" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="49.6934" x="858" y="159.5537">result = 1</text></g><!--link hash1 to n2--><g id="link_hash1_n2"><path d="M876.33,117.4179 C887.59,124.3879 902.23,134.8879 912,147.2979 C931.73,172.3479 942.3206,202.299 948.1906,222.829 " fill="none" id="hash1-to-n2" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="949.84,228.5979,951.2117,218.845,948.4655,223.7905,943.52,221.0442,949.84,228.5979" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="49.6934" x="922" y="159.5537">result = 2</text></g><!--link hash2 to n0b--><g id="link_hash2_n0b"><path d="M157.44,114.8279 C135.37,120.1479 110.56,129.7979 94,147.2979 C72.7,169.8179 67.7872,201.4673 66.5872,222.7873 " fill="none" id="hash2-to-n0b" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="66.25,228.7779,70.7494,220.0169,66.531,223.7858,62.7621,219.5673,66.25,228.7779" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="49.6934" x="95" y="159.5537">result = 0</text></g><!--link hash2 to n1b--><g id="link_hash2_n1b"><path d="M187.9,117.5779 C177.05,124.2279 164.18,134.3079 158,147.2979 C145.48,173.5879 149.3086,202.729 154.0686,222.849 " fill="none" id="hash2-to-n1b" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="155.45,228.6879,157.2705,219.0087,154.2989,223.8222,149.4854,220.8505,155.45,228.6879" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="49.6934" x="159" y="159.5537">result = 1</text></g><!--link hash2 to n2b--><g id="link_hash2_n2b"><path d="M209.3,117.6779 C217.35,140.5679 236.0793,193.8477 246.2293,222.7077 " fill="none" id="hash2-to-n2b" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="248.22,228.3679,249.0074,218.5505,246.5611,223.6511,241.4606,221.2047,248.22,228.3679" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="49.6934" x="226" y="159.5537">result = 2</text></g><!--link hash2 to n3b--><g id="link_hash2_n3b"><path d="M232.29,117.3879 C248.49,123.9179 268.95,133.9179 284,147.2979 C310.48,170.8379 328.0542,202.3533 338.1842,223.3633 " fill="none" id="hash2-to-n3b" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="340.79,228.7679,340.4843,218.9237,338.6185,224.264,333.2782,222.3982,340.79,228.7679" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="49.6934" x="299" y="159.5537">result = 3</text></g><!--link after to GMN20--><g id="link_after_GMN20"><path d="M426.2414,115.423 C426.9026,115.9943 427.599,116.5959 428.3289,117.2264 C434.1678,122.2707 442.1481,129.1647 451.3963,137.1541 C469.8925,153.1329 493.46,173.4929 515.11,192.1979 " fill="none" id="after-GMN20" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[ZPDBZvim54Rt_XKtHACcbY9XODf994OABtKnfOiPTM-2Gr30HiPHNsf_UsqWBOaGQjW4V-VQryTueKwiPj1KjEIeFPUyePBMaD73kP3YmlDGL4B2CedDCo9oTgINIYM2gvJg6VQofDLq_bh-O40SX5IfAWPlakQbAWMd5NoaxQdanGvE-i_gpBwluG5IXDw1x_iGiAEGR0Skf29dhHb3ZUwC5Woikz02saBMZS4oVaeUuotyHA1_1ofpiCOBOEnYt1MOKQ9tboJRq4CTBjb1KLxeHYqpCTWTo6rOXa_n-t0x2P4U8hEGqqFENwYZ-XOscsUpnauNjLeR-63VfsISallK6QSE-dLrk3yg9dVWJIaSidsU0-boMAM-j-xQf2OpPk8WZcTCUYEJpl-Pp0mMHf4pgtAUkhgSfzoUSZKL156S1F-KEuFoRDhv49DiMleGEzcjzRlOlObTSoXSA0QPK4hK88wtbdKvnb7PqhO_bgeMhOBzomjeswsUgAPDm_85ncORyJTQDnKRhevrQNKDiMrYhKsdjctsShqZvbMVbgiJZ0d6eBlhPMje-0gkaDT1zWYo0LQVFd-9eyNQBFpxm-E3wRrhYZEMGrqMafeR3LzFZ4EgB-NcsKECvs3sY_u0]--></g></svg>