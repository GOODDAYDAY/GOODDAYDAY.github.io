<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="600px" preserveAspectRatio="none" style="width:740px;height:600px;background:#FEFEFE;" version="1.1" viewBox="0 0 740 600" width="740px" zoomAndPan="magnify"><title>Before Redis 7.0: Broadcast Mode (Village Loudspeaker)</title><defs/><g><rect fill="#FEFEFE" height="600" style="stroke:none;stroke-width:1.0;" width="740" x="0" y="0"/><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="591.7119" x="69.9663" y="35.6357">Before Redis 7.0: Broadcast Mode (Village Loudspeaker)</text><!--cluster cluster--><g id="cluster_cluster"><path d="M87,200.2979 L165.3555,200.2979 A3.75,3.75 0 0 1 167.8555,202.7979 L174.8555,220.0967 L429,220.0967 A2.5,2.5 0 0 1 431.5,222.5967 L431.5,448.2979 A2.5,2.5 0 0 1 429,450.7979 L87,450.7979 A2.5,2.5 0 0 1 84.5,448.2979 L84.5,202.7979 A2.5,2.5 0 0 1 87,200.2979 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="84.5" x2="174.8555" y1="220.0967" y2="220.0967"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="77.3555" x="88.5" y="213.5537">Redis Cluster</text></g><!--entity nodeA--><g id="elem_nodeA"><rect fill="#E3F2FD" height="47.5977" rx="5" ry="5" style="stroke:#000000;stroke-width:1.0;" width="87.377" x="178" y="240.2979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.0254" x="188" y="261.5537">Node A</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="67.377" x="188" y="275.3525">Slots 0-5460</text></g><!--entity nodeB--><g id="elem_nodeB"><rect fill="#FFF3E0" height="47.5977" rx="5" ry="5" style="stroke:#000000;stroke-width:1.0;" width="114.0723" x="108.5" y="378.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.0254" x="118.5" y="400.0537">Node B</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="94.0723" x="118.5" y="413.8525">Slots 5461-10922</text></g><!--entity nodeC--><g id="elem_nodeC"><rect fill="#FCE4EC" height="47.5977" rx="5" ry="5" style="stroke:#000000;stroke-width:1.0;" width="120.7461" x="258" y="378.7979"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.6875" x="268" y="400.0537">Node C</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="100.7461" x="268" y="413.8525">Slots 10923-16383</text></g><!--entity pubClient--><g id="elem_pubClient"><ellipse cx="221.5205" cy="65.2979" fill="#FFECB3" rx="8" ry="8" style="stroke:#1976D2;stroke-width:1.0;"/><path d="M221.5205,73.2979 L221.5205,100.2979 M208.5205,81.2979 L234.5205,81.2979 M221.5205,100.2979 L208.5205,115.2979 M221.5205,100.2979 L234.5205,115.2979 " fill="none" style="stroke:#1976D2;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="84.041" x="179.5" y="128.5537">Publisher Client</text></g><!--entity subClient1--><g id="elem_subClient1"><ellipse cx="61.6895" cy="528.7979" fill="#C8E6C9" rx="8" ry="8" style="stroke:#1976D2;stroke-width:1.0;"/><path d="M61.6895,536.7979 L61.6895,563.7979 M48.6895,544.7979 L74.6895,544.7979 M61.6895,563.7979 L48.6895,578.7979 M61.6895,563.7979 L74.6895,578.7979 " fill="none" style="stroke:#1976D2;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="101.3789" x="11" y="592.0537">Subscriber Client 1</text></g><!--entity subClient2--><g id="elem_subClient2"><ellipse cx="417.6895" cy="528.7979" fill="#C8E6C9" rx="8" ry="8" style="stroke:#1976D2;stroke-width:1.0;"/><path d="M417.6895,536.7979 L417.6895,563.7979 M404.6895,544.7979 L430.6895,544.7979 M417.6895,563.7979 L404.6895,578.7979 M417.6895,563.7979 L430.6895,578.7979 " fill="none" style="stroke:#1976D2;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="101.3789" x="367" y="592.0537">Subscriber Client 2</text></g><g id="elem_GMN16"><path d="M455.5,363.2979 L455.5,442.292 L733.6445,442.292 L733.6445,373.2979 L723.6445,363.2979 L455.5,363.2979 " fill="#FFEBEE" style="stroke:#000000;stroke-width:1.0;"/><path d="M723.6445,363.2979 L723.6445,373.2979 L733.6445,373.2979 L723.6445,363.2979 " fill="#FFEBEE" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="142.7109" x="461.5" y="379.5537">Problem: O(N) messages</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="239.6074" x="461.5" y="393.3525">Node A doesn't know who subscribed "news"</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="159.4277" x="461.5" y="407.1514">Must broadcast to ALL nodes!</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="3.334" x="461.5" y="420.9502">&#160;</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="257.1445" x="461.5" y="434.749">100 nodes = 99 Gossip messages per PUBLISH</text></g><g id="elem_GMN19"><path d="M147,524.7979 L147,553.2979 L112.1,557.2979 L147,561.2979 L147,589.9932 A0,0 0 0 0 147,589.9932 L306.0762,589.9932 A0,0 0 0 0 306.0762,589.9932 L306.0762,534.7979 L296.0762,524.7979 L147,524.7979 A0,0 0 0 0 147,524.7979 " fill="#FFF9C4" style="stroke:#000000;stroke-width:1.0;"/><path d="M296.0762,524.7979 L296.0762,534.7979 L306.0762,534.7979 L296.0762,524.7979 " fill="#FFF9C4" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="104.7246" x="153" y="541.0537">Clients can connect</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="91.4004" x="153" y="554.8525">to ANY node and</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="138.0762" x="153" y="568.6514">subscribe to ANY channel</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="120.0586" x="153" y="582.4502">(convenient but costly)</text></g><!--link pubClient to nodeA--><g id="link_pubClient_nodeA"><path d="M221.5,131.3579 C221.5,164.4579 221.5,206.2079 221.5,234.2679 " fill="none" id="pubClient-to-nodeA" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="221.5,240.2679,225.5,231.2679,221.5,235.2679,217.5,231.2679,221.5,240.2679" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="96.041" x="222.5" y="173.5537">1. PUBLISH news</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="25.3535" x="192.8247" y="229.7319">hello</text></g><!--link subClient1 to nodeB--><g id="link_subClient1_nodeB"><path d="M37.76,519.4679 C31.49,504.9079 28.44,488.4279 36.5,474.7979 C52.11,448.3879 75.8721,433.3984 102.6221,422.5184 " fill="none" id="subClient1-to-nodeB" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="108.18,420.2579,98.3362,419.9434,103.5484,422.1416,101.3502,427.3539,108.18,420.2579" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="100.6992" x="37.5" y="487.0537">SUBSCRIBE news</text></g><!--link nodeB to subClient1--><g id="link_nodeB_subClient1"><path d="M163.23,426.9079 C160.56,445.1779 154.81,470.6979 142.5,489.7979 C134.52,502.1879 128.0784,509.5436 116.7084,519.0736 " fill="none" id="nodeB-to-subClient1" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="112.11,522.9279,121.577,520.2121,115.942,519.716,116.4381,514.0809,112.11,522.9279" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="48.6914" x="151.5" y="487.0537">3. deliver</text></g><!--link subClient2 to nodeC--><g id="link_subClient2_nodeC"><path d="M366.86,541.3179 C341.9,531.0979 314.09,514.7679 299.5,489.7979 C288.24,470.5179 293.3944,450.6626 302.1444,432.5126 " fill="none" id="subClient2-to-nodeC" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="304.75,427.1079,297.2385,433.4779,302.5787,431.6118,304.4448,436.952,304.75,427.1079" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="100.6992" x="300.5" y="487.0537">SUBSCRIBE news</text></g><!--link nodeC to subClient2--><g id="link_nodeC_subClient2"><path d="M358.53,426.9379 C375.75,438.9879 394.43,455.2979 405.5,474.7979 C413.12,488.2279 415.9218,498.8611 417.2218,513.5711 " fill="none" id="nodeC-to-subClient2" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="417.75,519.5479,420.9422,510.2307,417.3098,514.5673,412.9732,510.9349,417.75,519.5479" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="48.6914" x="413.5" y="487.0537">3. deliver</text></g><!--link nodeA to nodeB--><g id="link_nodeA_nodeB"><path d="M177.68,283.3879 C163.17,291.7479 148.65,303.2179 140.5,318.2979 C130.21,337.3279 136.2189,355.9565 146.1789,373.2765 " fill="none" id="nodeA-to-nodeB" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="149.17,378.4779,148.151,368.6819,146.6775,374.1434,141.2159,372.6699,149.17,378.4779" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="106.7227" x="141.5" y="330.5537">2. Gossip broadcast</text></g><!--link nodeA to nodeC--><g id="link_nodeA_nodeC"><path d="M237.95,288.4579 C255.79,313.5579 280.6251,348.4965 298.4851,373.6365 " fill="none" id="nodeA-to-nodeC" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="301.96,378.5279,300.0085,368.8743,299.0642,374.4517,293.4868,373.5075,301.96,378.5279" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="106.7227" x="268.5" y="330.5537">2. Gossip broadcast</text></g><!--link cluster to GMN16--><g id="link_cluster_GMN16"><path d="M431.6207,271.781 C431.7174,271.8582 431.8148,271.9359 431.913,272.0143 C433.4844,273.2684 435.2513,274.6786 437.1925,276.228 C444.9575,282.4257 455.5125,290.851 467.505,300.4241 C491.49,319.5704 521.225,343.3079 545.89,362.9979 " fill="none" id="cluster-GMN16" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[TLDHRvim47xdLrpfGvD8YO1qQHCfam8bQwKqgnfrqgIz670J5CT6jcdLJVllEsCWf6lX1NpVT_VTT-SplQC72WKZENVKFkS5aUG02KdtMobAdaM22GddozYy7KH6dqd9z59mlIQOOI5pmZwER_BV5Fp0wKH9gZ7h7mVm2T_NYiVBO7bZOq9cLDRd_lHgSXCuVxk994qruLj6wsIFDe_aL8Bl6QpEDKP3-YmaXKUQvGgkHjuCGYb8bXAbuLva57e_SiR8bi9Ab9agADbJsNUS2vZFvn2nd7AjpBTZfRiFPS9ojSCoDkW2KL2KYVr3mvPn58uRzAPCL2hpf8M3Nn5KG_3XFBgE9z7qSqPmoWXQHYkoL1hXHcI1dffcNDjm7QeIf3NC-dNqprqR6nQ_-8O9RDKRVhcSU1M3Os1nCfRthB1X8SSV-juq25fcQBnOZcFlGsRKC0rfFFGdu-jnIusG6iMNSMJcs9q4H89pp9GBReToD7uu_5eBde4_WeUdS7MtkGLENnMuEygOS9sEwmqyHFZcATn4ZtTXNA6TZjCDAleVLUiwRbCFRnGKKYIC7ixwbJghPpGwbWf6y4qebHUGDCHtgEWJL5tlXhByXSetqCAiHBqggYqNLfexZSvWFC9BMR4SM-044PmY4A8f949hSG3nt6wDsUimZd6MWy63RN86ttlhFXoeKhXoQZ30eDqbo0HL_4B3dejNUDrrf6RW6ljSnDvZvcE3fg75QbLveCuSZFkUP_zW3jDfuqXJ3WfKLK_PeJm38xoMB_FjJXlrtMk6opYDBZ5lSwbJmY6r-uIdflpwPrKG2C_mfDNSnD8TGJJ3K0zvBvHNYvUK6jCepTxwHnt_0000]--></g></svg>