<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="603px" preserveAspectRatio="none" style="width:555px;height:603px;background:#FEFEFE;" version="1.1" viewBox="0 0 555 603" width="555px" zoomAndPan="magnify"><title>min-replicas-to-write - Consistency Protection</title><defs/><g><rect fill="#FEFEFE" height="603" style="stroke:none;stroke-width:1.0;" width="555" x="0" y="0"/><text fill="#000000" font-family="Helvetica" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="481.6367" x="37.707" y="40.2119">min-replicas-to-write - Consistency Protection</text><line style="stroke:#000000;stroke-width:1.0;" x1="48" x2="48" y1="136.166" y2="519.7275"/><line style="stroke:#000000;stroke-width:1.0;" x1="182.9517" x2="182.9517" y1="136.166" y2="519.7275"/><line style="stroke:#000000;stroke-width:1.0;" x1="373.0854" x2="373.0854" y1="136.166" y2="519.7275"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="35.793" x="28" y="133.0898">Client</text><ellipse cx="48.8965" cy="65.0459" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M48.8965,73.0459 L48.8965,100.0459 M35.8965,81.0459 L61.8965,81.0459 M48.8965,100.0459 L35.8965,115.0459 M48.8965,100.0459 L61.8965,115.0459 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="35.793" x="28" y="534.7715">Client</text><ellipse cx="48.8965" cy="546.8477" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M48.8965,554.8477 L48.8965,581.8477 M35.8965,562.8477 L61.8965,562.8477 M48.8965,581.8477 L35.8965,596.8477 M48.8965,581.8477 L61.8965,596.8477 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFCDD2" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="56.7861" x="154.9517" y="102.0459"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="42.7861" x="161.9517" y="125.0898">Master</text><rect fill="#FFCDD2" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="56.7861" x="154.9517" y="518.7275"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="42.7861" x="161.9517" y="541.7715">Master</text><rect fill="#E0E0E0" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="105.8271" x="321.0854" y="82.9258"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="42.0205" x="352.9888" y="105.9697">Slaves</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="91.8271" x="328.0854" y="125.0898">(disconnected)</text><rect fill="#E0E0E0" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="105.8271" x="321.0854" y="518.7275"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="42.0205" x="352.9888" y="541.7715">Slaves</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="91.8271" x="328.0854" y="560.8916">(disconnected)</text><path d="M98,151.166 L98,218.166 L268,218.166 L268,161.166 L258,151.166 L98,151.166 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M258,151.166 L258,161.166 L268,161.166 L258,151.166 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="48.9795" x="104" y="172.21">Config:</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="137.6963" x="104" y="191.3301">min-replicas-to-write 1</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="149.3789" x="104" y="210.4502">min-replicas-max-lag 10</text><polygon fill="#000000" points="171.3447,244.6465,181.3447,248.6465,171.3447,252.6465,175.3447,248.6465" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="48.8965" x2="177.3447" y1="248.6465" y2="248.6465"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="65.3652" x="83.438" y="243.5703">SET x 100</text><line style="stroke:#000000;stroke-width:1.0;" x1="183.3447" x2="225.3447" y1="300.8867" y2="300.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="225.3447" x2="225.3447" y1="300.8867" y2="313.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="184.3447" x2="225.3447" y1="313.8867" y2="313.8867"/><polygon fill="#000000" points="194.3447,309.8867,184.3447,313.8867,194.3447,317.8867,190.3447,313.8867" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="176.6543" x="190.3447" y="276.6904">Check: Any connected slave</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="142.8164" x="207.2637" y="295.8105">with lag &lt; 10 seconds?</text><path d="M378,326.8867 L378,374.8867 L548,374.8867 L548,336.8867 L538,326.8867 L378,326.8867 " fill="#FFEBEE" style="stroke:#000000;stroke-width:1.0;"/><path d="M538,326.8867 L538,336.8867 L548,336.8867 L538,326.8867 " fill="#FFEBEE" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="145.5234" x="384" y="347.9307">All slaves disconnected</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="149.0508" x="384" y="367.0508">or lagging &gt; 10 seconds</text><polygon fill="#000000" points="59.8965,420.3672,49.8965,424.3672,59.8965,428.3672,55.8965,424.3672" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53.8965" x2="182.3447" y1="424.3672" y2="424.3672"/><text fill="#FF0000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="90.248" x="70.9966" y="400.1709">NOREPLICAS</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="110.4482" x="60.8965" y="419.291">Write REJECTED</text><path d="M10,437.3672 L10,504.3672 L413,504.3672 L413,447.3672 L403,437.3672 L10,437.3672 " fill="#FFFDE7" style="stroke:#000000;stroke-width:1.0;"/><path d="M403,437.3672 L403,447.3672 L413,447.3672 L403,437.3672 " fill="#FFFDE7" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="65.3242" x="91.905" y="458.4111">Trade-off:</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="231.1025" x="91.905" y="477.5313">Better consistency (no orphan writes)</text><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="21.7656" x="91.905" y="496.6514">but</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="126.8203" x="117.5603" y="496.6514">sacrifices availability</text><!--SRC=[RP9DQnin48Rl-XLJvv90byIbK31cYxFMqfOc3R6X5r_6sjdrO5bo9Tb9-kixkskdsn9q4VFnplEEz2vjQ4UmjyXEnIsxFGRSmHhDjWd-uAh2Mn_WejJj6LHKLEF1fjAxT8-YCFf2zaY93OxUhbhmRuBnnq4oqgy3EKDt52CsDBFSE33a4WMb4YTBi6EN1TfRaOrPyjbJu4IGGU5Tv9Ya-mKUWaza4dkd59eaj8LbKG6COBgRadb2ndkKwEWEfJ6CslIkkugxifZFF_nRjh1ufBXobnL7uvsJ4LHTTMsnIy65lccFKau0m1z5gHTK0DDrBemrDvFfzJgNmDjEnlzdTlYSMMnWVAF8LT0gAzMxW2m_0qzWePVmB5Ko_HGRPeiDcUq4Pku5Nj5xwfLxuhI1TiHKskKDfA2Adqyc0ZUR1Bv-jLYM-bPhePnPUmuE5o8PMRZ8DUmQo0UI0_upeI2Uh4nWQjgFDGbKvVS_7lN3zw_5R36zxgBvoltirlEel-bYgUV35VSAxmU4vLn_wbU-35XHvklwlFLRIkraC_WkbyuBydw33hetY5Tzx_gGsYQ8Q0BNR4GRZyWMrsmvlVorymS0]--></g></svg>