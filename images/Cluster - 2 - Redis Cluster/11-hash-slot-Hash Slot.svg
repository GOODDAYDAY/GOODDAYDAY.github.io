<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="509px" preserveAspectRatio="none" style="width:1666px;height:509px;background:#FEFEFE;" version="1.1" viewBox="0 0 1666 509" width="1666px" zoomAndPan="magnify"><title>Hash Slot: CRC16(key) % 16384</title><defs/><g><rect fill="#FEFEFE" height="509" style="stroke:none;stroke-width:1.0;" width="1666" x="0" y="0"/><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="331.3535" x="663.2246" y="35.6357">Hash Slot: CRC16(key) % 16384</text><!--cluster slots--><g id="cluster_slots"><path d="M13.5,104.7179 L115.2168,104.7179 A3.75,3.75 0 0 1 117.7168,107.2179 L124.7168,124.5167 L504.5,124.5167 A2.5,2.5 0 0 1 507,127.0167 L507,499.7179 A2.5,2.5 0 0 1 504.5,502.2179 L13.5,502.2179 A2.5,2.5 0 0 1 11,499.7179 L11,107.2179 A2.5,2.5 0 0 1 13.5,104.7179 " fill="#E3F2FD" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="11" x2="124.7168" y1="124.5167" y2="124.5167"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="100.7168" x="15" y="117.9737">16384 Fixed Slots</text></g><!--cluster addNode--><g id="cluster_addNode"><path d="M737.5,104.7179 L905.8438,104.7179 A3.75,3.75 0 0 1 908.3438,107.2179 L915.3438,124.5167 L1335.5,124.5167 A2.5,2.5 0 0 1 1338,127.0167 L1338,361.2179 A2.5,2.5 0 0 1 1335.5,363.7179 L737.5,363.7179 A2.5,2.5 0 0 1 735,361.2179 L735,107.2179 A2.5,2.5 0 0 1 737.5,104.7179 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="735" x2="915.3438" y1="124.5167" y2="124.5167"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="167.3438" x="739" y="117.9737">Add Node D: Just Move Slots</text></g><!--entity slot1--><g id="elem_slot1"><rect fill="#C8E6C9" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="87.377" x="395.5" y="144.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="67.377" x="405.5" y="165.9737">Slots 0-5460</text></g><!--entity slot2--><g id="elem_slot2"><rect fill="#FFF3E0" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="114.0723" x="72" y="305.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="94.0723" x="82" y="326.9737">Slots 5461-10922</text></g><!--entity slot3--><g id="elem_slot3"><rect fill="#FCE4EC" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="120.7461" x="239.5" y="144.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="100.7461" x="249.5" y="165.9737">Slots 10923-16383</text></g><!--entity nodeA--><g id="elem_nodeA"><rect fill="#C8E6C9" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.0254" x="409" y="305.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.0254" x="419" y="326.9737">Node A</text></g><!--entity nodeB--><g id="elem_nodeB"><rect fill="#FFF3E0" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.0254" x="99" y="444.2179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.0254" x="109" y="465.4737">Node B</text></g><!--entity nodeC--><g id="elem_nodeC"><rect fill="#FCE4EC" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.6875" x="269.5" y="305.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.6875" x="279.5" y="326.9737">Node C</text></g><!--entity key1--><g id="elem_key1"><rect fill="#FFF9C4" height="33.5977" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="150.4238" x="54" y="144.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="53.373" x="64" y="158.9737">user:1001</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="130.4238" x="64" y="172.7725">CRC16 % 16384 = 5474</text></g><!--entity slot1b--><g id="elem_slot1b"><rect fill="#C8E6C9" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="87.377" x="1207.5" y="144.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="67.377" x="1217.5" y="165.9737">Slots 0-4095</text></g><!--entity slot2b--><g id="elem_slot2b"><rect fill="#FFF3E0" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="107.3984" x="1065.5" y="144.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="87.3984" x="1075.5" y="165.9737">Slots 4096-8191</text></g><!--entity slot3b--><g id="elem_slot3b"><rect fill="#FCE4EC" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="114.0723" x="916" y="144.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="94.0723" x="926" y="165.9737">Slots 8192-12287</text></g><!--entity slot4b--><g id="elem_slot4b"><rect fill="#BBDEFB" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="120.7461" x="759.5" y="144.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="100.7461" x="769.5" y="165.9737">Slots 12288-16383</text></g><!--entity nodeA2--><g id="elem_nodeA2"><rect fill="#C8E6C9" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.0254" x="1221" y="305.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.0254" x="1231" y="326.9737">Node A</text></g><!--entity nodeB2--><g id="elem_nodeB2"><rect fill="#FFF3E0" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.0254" x="1089" y="305.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.0254" x="1099" y="326.9737">Node B</text></g><!--entity nodeC2--><g id="elem_nodeC2"><rect fill="#FCE4EC" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.6875" x="942.5" y="305.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.6875" x="952.5" y="326.9737">Node C</text></g><!--entity nodeD2--><g id="elem_nodeD2"><rect fill="#BBDEFB" height="33.7988" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.6875" x="789.5" y="305.7179"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="40.6875" x="799.5" y="326.9737">Node D</text></g><g id="elem_GMN27"><path d="M1362,276.2179 L1362,369.0108 L1659.8027,369.0108 L1659.8027,286.2179 L1649.8027,276.2179 L1362,276.2179 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><path d="M1649.8027,276.2179 L1649.8027,286.2179 L1659.8027,286.2179 L1649.8027,276.2179 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="126.0059" x="1368" y="292.4737">Explicit Slot Migration</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="3.334" x="1368" y="306.2725">&#160;</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="230.7656" x="1368" y="320.0714">Admin decides exactly which slots to move!</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="203.4258" x="1368" y="333.8702">- Move slots 12288-16383 from C to D</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="154.0605" x="1368" y="347.669">- No virtual nodes complexity</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="276.8027" x="1368" y="361.4679">- Gossip message = 16384 bits = 2KB (fits in cache)</text></g><g id="elem_GMN30"><path d="M531,122.2179 L531,201.212 L711.1055,201.212 L711.1055,132.2179 L701.1055,122.2179 L531,122.2179 " fill="#FFF9C4" style="stroke:#000000;stroke-width:1.0;"/><path d="M701.1055,122.2179 L701.1055,132.2179 L711.1055,132.2179 L701.1055,122.2179 " fill="#FFF9C4" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111.334" x="537" y="138.4737">Two-Level Mapping</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="152.3906" x="537" y="152.2725">1. Key -&gt; Slot (fixed formula)</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="157.084" x="537" y="166.0714">2. Slot -&gt; Node (configurable)</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="3.334" x="537" y="179.8702">&#160;</text><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="159.1055" x="537" y="193.669">Scaling = only change level 2!</text></g><!--link slot1 to nodeA--><g id="link_slot1_nodeA"><path d="M439,178.8379 C439,209.3179 439,269.0479 439,299.5579 " fill="none" id="slot1-to-nodeA" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="439,305.5579,443,296.5579,439,300.5579,435,296.5579,439,305.5579" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="28.0137" x="440" y="243.4737">owns</text></g><!--link slot2 to nodeB--><g id="link_slot2_nodeB"><path d="M129,339.9079 C129,366.1879 129,411.7879 129,438.0479 " fill="none" id="slot2-to-nodeB" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="129,444.0479,133,435.0479,129,439.0479,125,435.0479,129,444.0479" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="28.0137" x="130" y="411.4737">owns</text></g><!--link slot3 to nodeC--><g id="link_slot3_nodeC"><path d="M300,178.8379 C300,209.3179 300,269.0479 300,299.5579 " fill="none" id="slot3-to-nodeC" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="300,305.5579,304,296.5579,300,300.5579,296,296.5579,300,305.5579" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="28.0137" x="301" y="243.4737">owns</text></g><!--link key1 to slot2--><g id="link_key1_slot2"><path d="M129,178.8379 C129,209.3179 129,269.0479 129,299.5579 " fill="none" id="key1-to-slot2" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="129,305.5579,133,296.5579,129,300.5579,125,296.5579,129,305.5579" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Arial" font-size="12" lengthAdjust="spacing" textLength="106.4004" x="130" y="243.4737">slot 5474 -&gt; Node B</text></g><!--link slot1b to nodeA2--><g id="link_slot1b_nodeA2"><path d="M1251,178.8379 C1251,209.3179 1251,269.0479 1251,299.5579 " fill="none" id="slot1b-to-nodeA2" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1251,305.5579,1255,296.5579,1251,300.5579,1247,296.5579,1251,305.5579" style="stroke:#000000;stroke-width:1.0;"/></g><!--link slot2b to nodeB2--><g id="link_slot2b_nodeB2"><path d="M1119,178.8379 C1119,209.3179 1119,269.0479 1119,299.5579 " fill="none" id="slot2b-to-nodeB2" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1119,305.5579,1123,296.5579,1119,300.5579,1115,296.5579,1119,305.5579" style="stroke:#000000;stroke-width:1.0;"/></g><!--link slot3b to nodeC2--><g id="link_slot3b_nodeC2"><path d="M973,178.8379 C973,209.3179 973,269.0479 973,299.5579 " fill="none" id="slot3b-to-nodeC2" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="973,305.5579,977,296.5579,973,300.5579,969,296.5579,973,305.5579" style="stroke:#000000;stroke-width:1.0;"/></g><!--link slot4b to nodeD2--><g id="link_slot4b_nodeD2"><path d="M820,178.8379 C820,209.3179 820,269.0479 820,299.5579 " fill="none" id="slot4b-to-nodeD2" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="820,305.5579,824,296.5579,820,300.5579,816,296.5579,820,305.5579" style="stroke:#000000;stroke-width:1.0;"/></g><!--link addNode to GMN27--><g id="link_addNode_GMN27"><path d="M1338.2497,169.9692 C1338.45,170.1452 1338.6535,170.324 1338.8603,170.5056 C1340.5145,171.9586 1342.3746,173.5925 1344.4184,175.3879 C1352.5938,182.5691 1363.7088,192.3329 1376.345,203.4329 C1401.6175,225.6329 1432.975,253.1779 1459.07,276.0979 " fill="none" id="addNode-GMN27" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link slots to GMN30--><g id="link_slots_GMN30"><path d="M27.7715,104.5848 C27.8292,104.4379 27.8874,104.2911 27.9459,104.1445 C28.1801,103.5582 28.4202,102.9748 28.6665,102.3949 C29.1591,101.235 29.6764,100.0888 30.2196,98.9597 C31.306,96.7016 32.4959,94.512 33.7991,92.4189 C39.0119,84.0466 46.0375,77.2179 55.5,73.7179 C99.89,57.2979 436.03,60.5779 481.5,73.7179 C514.79,83.3379 547.77,103.5279 573.3,122.1379 " fill="none" id="slots-GMN30" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[ZLHHRzem47xFhxY2fhL8gOYJKa1Y4Wd9fdNjmxh7lJY90QkE7IMcXKtxxpixaBICTeK7q7tV-Rwx- -mplMO5Wr9GBftwWSkILhI0b6OFgqfjP1ufeIhe9x7vFcFaR4atGYTAwZkA9ymhJiLf_9x_Ok0Hnz5S2mPVQBs6Uw7q5ABlaJSwVs2x2_W0tiWV1uxp4MQp6IHyo_8cPBcrYJebog8h1hq6Q4WMxW6jeRR4Vkmd95d0RyS1_5GiqrIki72lEMZeNWMZOPlWGJyQnwDeSfgDNC_rXXD2sWo2uqWIFnwUpZ1atpKA_JR5nvGe3kBe7qrtAiVXMQB4l_FNr5XUsFB2rpHONjJoefU5cuPTzzE-s1JKawnRYBHGU0pvBHGT88jbjCgXjwbPDVM6G- -dj3izh1DcEC3hmCh1DNjMzIGARAeDc5ERqbFxQ_c0mQPXvy_14VCyRsABbrReubFukgartAf7zimKDCyjt8_7oLKyUSCMmN1orTaYVTiNI1wvOs_YTRP8t_O5aedh4JA-xcoHjkivRILaZu-i561E62xY9FolbyXxpKJUwoRocjvc0ornGLwAt4-qDHxfBDT5moxgTz6eYmPTT46CCwJI35AbjIf0BOzNZNc3GRmj1S-ujew0MxwggEPA3WP6s3mlkCIdAkCvgu5jQQR53fxMF5ll7nEje40_dI7PRPnL7sy6bXMMZmnrOMbt2XvvfJTKMAarPAee1TjolRFuPrNNl8I2rRLny6n_LL9kNZaWDo6SByr_b9RHRCqk72PpCBtkEwxuQgrDm_i7hxrJWy6F9-L-OuzCm2qjIovNs2Y0TmatR6TkbPq27cyUpgMgYesW5qWWbmrok7VdcP9BljfKD1LO7ndt6HLu70fK4cUKhN7n38GjHSuwXNy1]--></g></svg>