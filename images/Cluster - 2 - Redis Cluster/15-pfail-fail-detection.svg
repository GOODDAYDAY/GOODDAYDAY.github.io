<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="768px" preserveAspectRatio="none" style="width:572px;height:768px;background:#FEFEFE;" version="1.1" viewBox="0 0 572 768" width="572px" zoomAndPan="magnify"><title>PFAIL vs FAIL - Two-Phase Failure Detection</title><defs/><g><rect fill="#FEFEFE" height="768" style="stroke:none;stroke-width:1.0;" width="572" x="0" y="0"/><text fill="#000000" font-family="Helvetica" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="469.4014" x="53.4036" y="40.2119">PFAIL vs FAIL - Two-Phase Failure Detection</text><line style="stroke:#000000;stroke-width:1.0;" x1="52" x2="52" y1="109.2861" y2="711.4482"/><line style="stroke:#000000;stroke-width:1.0;" x1="155.3135" x2="155.3135" y1="109.2861" y2="711.4482"/><line style="stroke:#000000;stroke-width:1.0;" x1="306.3491" x2="306.3491" y1="109.2861" y2="711.4482"/><line style="stroke:#000000;stroke-width:1.0;" x1="438.9116" x2="438.9116" y1="109.2861" y2="711.4482"/><rect fill="#FFCDD2" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="64.5654" x="20" y="56.0459"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="28.9346" y="79.0898">Node A</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="50.5654" x="27" y="98.21">(Failing)</text><rect fill="#FFCDD2" height="52.2402" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="64.5654" x="20" y="710.4482"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="28.9346" y="733.4922">Node A</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="50.5654" x="27" y="752.6123">(Failing)</text><rect fill="#C8E6C9" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.6963" x="125.3135" y="75.166"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="132.3135" y="98.21">Node B</text><rect fill="#C8E6C9" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="60.6963" x="125.3135" y="710.4482"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="46.6963" x="132.3135" y="733.4922">Node B</text><rect fill="#BBDEFB" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="61.4688" x="276.3491" y="75.166"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="47.4688" x="283.3491" y="98.21">Node C</text><rect fill="#BBDEFB" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="61.4688" x="276.3491" y="710.4482"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="47.4688" x="283.3491" y="733.4922">Node C</text><rect fill="#FFF9C4" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="61.4688" x="408.9116" y="75.166"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="47.4688" x="415.9116" y="98.21">Node D</text><rect fill="#FFF9C4" height="33.1201" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="61.4688" x="408.9116" y="710.4482"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="47.4688" x="415.9116" y="733.4922">Node D</text><line style="stroke:#000000;stroke-width:2.0;" x1="137.6616" x2="147.6616" y1="139.4063" y2="149.4063"/><line style="stroke:#000000;stroke-width:2.0;" x1="137.6616" x2="147.6616" y1="149.4063" y2="139.4063"/><line style="stroke:#000000;stroke-width:1.0;" x1="52.2827" x2="142.6616" y1="144.4063" y2="144.4063"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="79.3789" x="64.2827" y="139.3301">No response</text><path d="M160,157.4063 L160,205.4063 L342,205.4063 L342,167.4063 L332,157.4063 L160,157.4063 " fill="#FFFDE7" style="stroke:#000000;stroke-width:1.0;"/><path d="M332,157.4063 L332,167.4063 L342,167.4063 L332,157.4063 " fill="#FFFDE7" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="161.0684" x="166" y="178.4502">After cluster-node-timeout</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="77.8203" x="166" y="197.5703">(default 15s)</text><line style="stroke:#000000;stroke-width:1.0;" x1="155.6616" x2="197.6616" y1="254.8867" y2="254.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="197.6616" x2="197.6616" y1="254.8867" y2="267.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="156.6616" x2="197.6616" y1="267.8867" y2="267.8867"/><polygon fill="#000000" points="166.6616,263.8867,156.6616,267.8867,166.6616,271.8867,162.6616,267.8867" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="63.0137" x="163.7656" y="230.6904">Mark A as</text><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="40.4414" x="230.6689" y="230.6904">PFAIL</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="109.5527" x="162.6616" y="249.8105">"I think A is dead"</text><polygon fill="#000000" points="295.0835,297.0068,305.0835,301.0068,295.0835,305.0068,299.0835,301.0068" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="155.6616" x2="301.0835" y1="301.0068" y2="301.0068"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="127.4219" x="167.6616" y="295.9307">Gossip: "A is PFAIL"</text><polygon fill="#000000" points="427.646,330.127,437.646,334.127,427.646,338.127,431.646,334.127" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="155.6616" x2="433.646" y1="334.127" y2="334.127"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="127.4219" x="233.9429" y="329.0508">Gossip: "A is PFAIL"</text><line style="stroke:#000000;stroke-width:1.0;" x1="307.0835" x2="349.0835" y1="386.3672" y2="386.3672"/><line style="stroke:#000000;stroke-width:1.0;" x1="349.0835" x2="349.0835" y1="386.3672" y2="399.3672"/><line style="stroke:#000000;stroke-width:1.0;" x1="308.0835" x2="349.0835" y1="399.3672" y2="399.3672"/><polygon fill="#000000" points="318.0835,395.3672,308.0835,399.3672,318.0835,403.3672,314.0835,399.3672" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="110.79" x="317.9697" y="362.1709">Check: "Did I also</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="118.5625" x="314.0835" y="381.291">mark A as PFAIL?"</text><line style="stroke:#000000;stroke-width:1.0;" x1="439.646" x2="481.646" y1="451.6074" y2="451.6074"/><line style="stroke:#000000;stroke-width:1.0;" x1="481.646" x2="481.646" y1="451.6074" y2="464.6074"/><line style="stroke:#000000;stroke-width:1.0;" x1="440.646" x2="481.646" y1="464.6074" y2="464.6074"/><polygon fill="#000000" points="450.646,460.6074,440.646,464.6074,450.646,468.6074,446.646,464.6074" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="110.79" x="450.5322" y="427.4111">Check: "Did I also</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="118.5625" x="446.646" y="446.5313">mark A as PFAIL?"</text><path d="M117,477.6074 L117,506.6074 L477,506.6074 L477,487.6074 L467,477.6074 L117,477.6074 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><path d="M467,477.6074 L467,487.6074 L477,487.6074 L467,477.6074 " fill="#E8F5E9" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="243.5166" x="170.7751" y="498.6514">Majority of masters agree A is PFAIL</text><line style="stroke:#000000;stroke-width:1.0;" x1="155.6616" x2="197.6616" y1="555.9678" y2="555.9678"/><line style="stroke:#000000;stroke-width:1.0;" x1="197.6616" x2="197.6616" y1="555.9678" y2="568.9678"/><line style="stroke:#000000;stroke-width:1.0;" x1="156.6616" x2="197.6616" y1="568.9678" y2="568.9678"/><polygon fill="#000000" points="166.6616,564.9678,156.6616,568.9678,166.6616,572.9678,162.6616,568.9678" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="63.0137" x="173.4932" y="531.7715">Mark A as</text><text fill="#000000" font-family="Helvetica" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31.1035" x="240.3965" y="531.7715">FAIL</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="119.6699" x="162.6616" y="550.8916">"A confirmed dead"</text><polygon fill="#000000" points="295.0835,598.0879,305.0835,602.0879,295.0835,606.0879,299.0835,602.0879" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="155.6616" x2="301.0835" y1="602.0879" y2="602.0879"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="66.9238" x="174.5693" y="597.0117">Broadcast:</text><text fill="#FF0000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="42.793" x="245.3828" y="597.0117">FAIL A</text><polygon fill="#000000" points="427.646,631.208,437.646,635.208,427.646,639.208,431.646,635.208" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="155.6616" x2="433.646" y1="635.208" y2="635.208"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="66.9238" x="240.8506" y="630.1318">Broadcast:</text><text fill="#FF0000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="42.793" x="311.6641" y="630.1318">FAIL A</text><path d="M13,648.208 L13,696.208 L478,696.208 L478,658.208 L468,648.208 L13,648.208 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M468,648.208 L468,658.208 L478,658.208 L468,648.208 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="242.7852" x="119.7976" y="669.252">FAIL message propagates immediately</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacing" textLength="200.0127" x="119.7976" y="688.3721">to all nodes (not through gossip)</text><!--SRC=[ZLHRRzem57xFhpWBBrGQgZgrMq68ATSDQQ1AtICl9Zaa7ewTsGvRz-jtx52MTbH2UN3ayrtE-UpadQsnGMW5up8mUovRfba3MrRiAwqwMIPAA0sZF7FF057YZdN2vahQDIE5y2kA0rfUiF0ywf7_GRYv7HGD_knG5hX2OrY5aU2LX0AbHHq4bbk1y917oszmCE3N2Np_fIOFDJC8EUEYqmWfMYmiLp88I9NyUSkaXN2jIeHe8ySEo6Lr5G8p86atecdo94q_d2749rGCe-G- -vXCpw2I4og1KHodMHwVGQKdLEeSysbo6mHz0vF5xwF93DOAD9fMIODKjGYQLxK5jNjkWwXfzYa0Y7QK31IYCxHEN7LYUOEgirGS7wE6cpjp5Q0imOdrXZ4PdlnMJEyXSgtDjmkVx_nwkzZ8S0csvjBLkA63OsNuYfqG-uioXhSp23tAqyENgFGjLD1h3CII6eizeL9UmXAOC6eZcrDxdlQvLq-7wfVH-Z3LWIBp_Rr_FehiFh_BfXGPpRzYFvJczid5tJ2Ngm5MQKJurxcBv-901tb6K2Yvuxh1yiquOwrOMP3n3EQ5-z9c6ail0j7yskyi_e_t8jQh-QFZ_3It1pRzHmUjLYshc4K3lA5MERsA9q9PHT4AJp8m9Z6w7lH7g6ge_EaEBjbV]--></g></svg>